{"version":3,"sources":["components/Chat/Chat.jsx","components/Join/Join.jsx","components/InfoBar/InfoBar.jsx","components/Input/Input.jsx","components/Messages/Message/Message.jsx","components/Messages/Messages.jsx","App.jsx","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","src","onlineIcon","alt","href","closeIcon","Input","message","setMessage","sendMessage","onKeyPress","key","e","Message","user","text","isSent","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","map","i","Chat","location","setUsers","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","emit","off","on","users","App","path","exact","component","ReactDOM","render","document","querySelector","module","exports"],"mappings":"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","file":"static/js/main.746547ed.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\n\r\n//styles import\r\nimport './Chat.css'\r\n\r\n// chat components\r\nimport InfoBar from '../InfoBar/InfoBar';\r\nimport Input from '../Input/Input';\r\nimport Messages from '../Messages/Messages'\r\nimport TextContainer from '../TextContainer/TextContainer';\r\n\r\n\r\nlet socket;\r\n\r\nconst Chat = ({ location }) => {\r\n    // initialize state \r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [users, setUsers] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    // endpoint \r\n    const ENDPOINT = 'https://react-chatting-app-demo.herokuapp.com/';\r\n    // useEffect\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search);\r\n        //console.log(location.search);\r\n        //const urlSearchParams = new URLSearchParams(window.location.search);\r\n        //const {name, room} = Object.fromEntries(urlSearchParams.entries());\r\n\r\n        socket = io(ENDPOINT);\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('join', { name, room }, () => {\r\n            //\r\n        });\r\n        // clean up func\r\n        return () => {\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n        }\r\n    }, [ENDPOINT, location.search]);\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message]);\r\n        });\r\n\r\n        socket.on(\"roomData\", ({ users }) => {\r\n            setUsers(users);\r\n          });\r\n\r\n    }, [messages]);\r\n\r\n    // create function for sending messages\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n    \r\n        if(message) {\r\n          socket.emit('sendMessage', message, () => setMessage(''));\r\n        }\r\n      }\r\n\r\n    // console.log(message, messages);\r\n    return (\r\n        <div className=\"outerContainer\">\r\n            <div className=\"container\">\r\n                <InfoBar room={room} />\r\n                <Messages messages={messages} name={name}/>\r\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage} />\r\n            </div>\r\n            {/* <TextContainer users={users} /> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Join.css';\r\n\r\nconst Join = () => {\r\n    // initialize state \r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n\r\n    return (\r\n        <div className=\"joinOuterContainer\">\r\n            <div className=\"joinInnerContainer\">\r\n                <h1 className=\"heading\">Join</h1>\r\n                <div>\r\n                    <input \r\n                    placeholder=\"Name...\" \r\n                    className=\"joinInput\" \r\n                    type=\"text\" \r\n                    onChange={(event) => setName(event.target.value)} />\r\n                </div>\r\n                <div>\r\n                    <input \r\n                    placeholder=\"Room...\" \r\n                    className=\"joinInput mt-20\" \r\n                    type=\"text\" \r\n                    onChange={(event) => setRoom(event.target.value)} />\r\n                </div>\r\n                <Link \r\n                onClick={(event) => (!name || !room) ? event.preventDefault() : null} \r\n                to={`/chat?name=${name}&room=${room}`}>\r\n                    <button className=\"button mt-20\" type=\"submit\">Sign in</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Join;\r\n","import React from \"react\";\r\n\r\nimport closeIcon from \"../../icons/closeIcon.png\";\r\nimport onlineIcon from \"../../icons/onlineIcon.png\";\r\nimport \"./InfoBar.css\";\r\n\r\nconst InfoBar = ({ room }) => (\r\n  <div className=\"infoBar\">\r\n    <div className=\"leftInnerContainer\">\r\n      <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\" />\r\n      <h3>{room}</h3>\r\n    </div>\r\n    <div className=\"rightInnerContainer\">\r\n      <a href=\"/\">\r\n        <img src={closeIcon} alt=\"close\" />\r\n      </a>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default InfoBar;\r\n","import React from \"react\";\r\n\r\nimport \"./Input.css\";\r\n\r\nconst Input = ({ message, setMessage, sendMessage }) => {\r\n  return (\r\n    <form className=\"form\">\r\n      <input\r\n        className=\"input\"\r\n        type=\"text\"\r\n        placeholder=\"Type a message...\"\r\n        value={message}\r\n        onChange={({ target: { value } }) => setMessage(value)}\r\n        onKeyPress={(event) =>\r\n          event.key === \"Enter\" ? sendMessage(event) : null\r\n        }\r\n      />\r\n      <button className=\"sendButton\" onClick={(e) => sendMessage(e)}>\r\n        Send\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\n\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nimport './Message.css';\r\n\r\nconst Message = ({ message: { user, text }, name }) => {\r\n    let isSent = false;\r\n\r\n    const trimmedName = name.trim().toLowerCase();\r\n\r\n    if(user === trimmedName){\r\n        isSent = true;\r\n    }\r\n\r\n    return (\r\n        isSent ? (\r\n            <div className=\"messageContainer justifyEnd\">\r\n             <p className=\"sentText pr-10\">{trimmedName}</p>\r\n            <div className=\"messageBox backgroundBlue\">\r\n                    <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n                </div>\r\n            </div> \r\n        ) : (\r\n            <div className=\"messageContainer justifyStart\">\r\n                <div className=\"messageBox backgroundLight\">\r\n                    <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n                </div>\r\n                <p className=\"sentText pl-10\">{user}</p>\r\n            </div>\r\n        )\r\n    )\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\n\r\nimport ScrollableFeed from 'react-scrollable-feed';\r\n\r\nimport Message from './Message/Message';\r\n\r\nimport './Messages.css';\r\n\r\nconst Messages = ({ messages, name }) => (\r\n  <ScrollableFeed className=\"messages\">\r\n    {messages.map((message, i) => <div key={i}><Message message={message} name={name}/></div>)}\r\n  </ScrollableFeed>\r\n);\r\n\r\nexport default Messages;","import React from 'react';\r\n\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Join from './components/Join/Join';\r\nimport Chat from './components/Chat/Chat';\r\n\r\n// upon entering site user will be greeted with the join component \r\n// which the user will then parse their data in the login form \r\n// and to query strings, we will pass that data through to the chat \r\n// once we have said data render then chat component \r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            <Route path=\"/\" exact component={Join} />\r\n            <Route path=\"/chat\" component={Chat} /> \r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\";\r\nimport ReactDOM  from \"react-dom\";\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}